---
title: Xamarin. Android Designer の基礎
description: このトピックでは、Xamarin の Android Designer 機能、デザイナーを起動する方法、デザインサーフェイスについて説明し、[プロパティ] ペインを使用してウィジェットのプロパティを編集する方法について説明します。
ms.prod: xamarin
ms.assetid: 48B20C9A-B2A2-AE82-76B2-A3C1E5A4050D
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 09/05/2018
ms.openlocfilehash: 0089f8681142b1d3d3446c21ba89ab2648e4a638
ms.sourcegitcommit: 9bfedf07940dad7270db86767eb2cc4007f2a59f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/21/2019
ms.locfileid: "70761410"
---
# <a name="xamarinandroid-designer-basics"></a>Xamarin. Android Designer の基礎

_このトピックでは、Xamarin の Android Designer 機能、デザイナーを起動する方法、デザインサーフェイスについて説明し、[プロパティ] ペインを使用してウィジェットのプロパティを編集する方法について説明します。_

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

## <a name="launching-the-designer"></a>デザイナーの起動

デザイナーは、レイアウトが作成されると自動的に起動されます。または、既存のレイアウトファイルをダブルクリックして起動することもできます。 たとえば、 **Resources > Layout**フォルダー内の**activity_main**をダブルクリックすると、次のスクリーンショットのようにデザイナーが読み込まれます。

[Visual Studio の ![Designer 画面](designer-basics-images/vs/01-open-designer-sml.png)](designer-basics-images/vs/01-open-designer.png#lightbox)

同様に、**ソリューションエクスプローラー**の **[レイアウト]** フォルダーを右クリックし、[**新しい項目の追加 >] を選択して、新しいレイアウトを追加できます。Android レイアウトを >** :

[[新しい項目の ![Add] ダイアログ](designer-basics-images/vs/02-add-new-layout-sml.png)](designer-basics-images/vs/02-add-new-layout.png#lightbox)

これにより、新しい**axml**レイアウトファイルが作成され、デザイナーに読み込まれます。

> [!TIP]
> 新しいリリースの Visual Studio では、Android Designer 内で .xml ファイルを開くことができます。
>
> Android Designer では、.axml ファイルと .xml ファイルの両方がサポートされています。

## <a name="designer-features"></a>デザイナーの機能

デザイナーは、次のスクリーンショットに示すように、さまざまな機能をサポートするいくつかのセクションで構成されています。

[デザイナーペインの ![Diagram](designer-basics-images/vs/03-designer-features-sml.png)](designer-basics-images/vs/03-designer-features.png#lightbox)

デザイナーでレイアウトを編集するときは、次の機能を使用して設計を作成し、整形します。

- **デザインサーフェイス**&ndash; を使用すると、レイアウトがデバイスにどのように表示されるかを編集可能な形式で表示できるため、ユーザーインターフェイスのビジュアル構築が容易になります。 **デザインサーフェイス**が**デザインペイン**内に表示されます (**デザイナーツールバー**は上に配置されます)。

- [**ソース] ウィンドウ**&ndash; は、**デザインサーフェイス**に表示されるデザインに対応する基になる XML ソースのビューを提供します。

- **デザイナーのツールバー**には、**デバイス**、**バージョン**、**テーマ**、レイアウトの構成、操作バーの設定 のセレクターの一覧が表示され &ndash; ます。 **デザイナーのツールバー**には、テーマエディターを起動し、マテリアルデザイングリッドを有効にするためのアイコンも含まれています。

- **ツールボックス**&ndash; には、**デザインサーフェイス**にドラッグアンドドロップできるウィジェットとレイアウトの一覧が表示されます。

- [**プロパティ] ウィンドウ**&ndash; 選択したウィジェットのプロパティを表示および編集できます。

- **ドキュメントアウトライン**&ndash; レイアウトを構成するウィジェットのツリーを表示します。 ツリー内の項目をクリックすると、その項目を**デザインサーフェイス**で選択できます。 また、ツリー内の項目をクリックすると、その項目のプロパティが **[プロパティ]** ウィンドウに読み込まれます。

## <a name="design-surface"></a>デザイン サーフェイス

デザイナーを使用すると、ツールボックスから**デザインサーフェイス**にウィジェットをドラッグアンドドロップすることができます。 デザイナーでウィジェットを操作する (新しいウィジェットを追加するか、既存のウィジェットを再配置することによって) と、使用可能な挿入ポイントをマークするための垂直線と水平線が表示されます。 次の例では、新しい `Button` ウィジェットを**デザインサーフェイス**にドラッグしています。

[デザインサーフェイスに挿入行を ![Example](designer-basics-images/vs/05-insertion-points-sml.png)](designer-basics-images/vs/05-insertion-points.png#lightbox)

さらに、ウィジェットをコピーすることもできます。コピーと貼り付けを使用してウィジェットをコピーすることも、 <kbd>CTRL</kbd>キーを押しながら既存のウィジェットをドラッグアンドドロップすることもできます。

### <a name="designer-toolbar"></a>デザイナーツールバー

**デザイナーツールバー** (**デザインサーフェイス**の上に配置) には、構成セレクターとツールメニューが表示されます。

[デザイナーツールバーの ![Diagram](designer-basics-images/vs/04-toolbar-sml.png)](designer-basics-images/vs/04-toolbar.png#lightbox)

**デザイナーのツールバー**では、次の機能にアクセスできます。

- 別のレイアウト**セレクター** &ndash; を使用すると、さまざまなレイアウトバージョンから選択できます。

- **デバイスセレクター** &ndash; は、特定のデバイスに関連付けられている修飾子のセット (画面サイズ、解像度、キーボードの可用性など) を定義します。 新しいデバイスを追加したり削除したりすることもできます。

- **Android バージョンセレクター**は、レイアウトが対象としている android バージョン &ndash; ます。 デザイナーでは、選択した Android バージョンに応じてレイアウトがレンダリングされます。

- **テーマセレクター** &ndash; レイアウトの UI テーマを選択します。

- **構成セレクター** &ndash; によって、デバイス構成 (*縦*や*横*など) が選択されます。

- **[リソース修飾子のオプション]** &ndash;*言語*、 *UI モード*、*夜間モード*、および*ラウンド画面*のオプションを選択するためのドロップダウンメニューを表示するダイアログボックスが表示されます。

- **操作バー設定**&ndash; レイアウトの操作バー設定を構成します。

- [**テーマエディター** &ndash;] を選択すると、*テーマエディター*が開きます。これにより、選択したテーマの要素をカスタマイズできます。

- **素材のデザイングリッド** *素材デザイングリッド*を有効または無効にします。 &ndash; [マテリアルデザイン] グリッドの横にあるドロップダウンメニュー項目では、グリッドをカスタマイズできるダイアログが表示されます。

これらの各機能については、次のトピックで詳しく説明します。

- [リソース修飾子と視覚化オプション](~/android/user-interface/android-designer/resource-qualifiers.md)**デバイスセレクター**、 **Android バージョンセレクター**、**テーマセレクター**、**構成セレクター**、リソースの要件に関する詳細情報を提供します。 **オプション**、および**操作バー設定**。

- 代替レイアウト[ビュー](~/android/user-interface/android-designer/alternative-layout-views.md)では、**代替レイアウトセレクター**の使用方法について説明します。

- 「 [Android Designer のマテリアルデザイン機能](~/android/user-interface/android-designer/material-design-features.md)」では、**テーマエディター**と [**マテリアルデザイン] グリッド**の包括的な概要について説明します。

### <a name="context-menu-commands"></a>ショートカットメニューのコマンド

コンテキストメニューは、**デザインサーフェイス**と**ドキュメントアウトライン**の両方で使用できます。 このメニューには、選択したウィジェットとそのコンテナーで使用できるコマンドが表示されます。これにより、コンテナーに対する操作を簡単に実行できるようになります (**デザインサーフェイス**では、常に選択するのは簡単ではありません)。 コンテキストメニューの例を次に示します。

[デザインサーフェイスを右クリックしたときのショートカットメニュー ![Example](designer-basics-images/vs/06-context-menu-sml.png)](designer-basics-images/vs/06-context-menu.png#lightbox)

この例では、`TextView` を右クリックすると、いくつかのオプションを示すショートカットメニューが表示されます。

- [ **LinearLayout** &ndash;] `TextView` の `LinearLayout` 親を編集するためのサブメニューが表示されます。

- 右クリックした `TextView` に適用される &ndash; 操作を**削除**、**コピー**、**切り取り**します。

### <a name="zoom-controls"></a>ズームコントロール

**デザインサーフェイス**では、次のようにいくつかのコントロールを使用したズームがサポートされます。

[デザインサーフェイスズームコントロールの ![Diagram](designer-basics-images/vs/07-zoom-controls-sml.png)](designer-basics-images/vs/07-zoom-controls.png#lightbox)

これらのコントロールを使用すると、ユーザーインターフェイスの特定の領域をデザイナーで簡単に確認できます。

- [コンテナー] を**強調表示**すると、**デザインサーフェイス**のコンテナーが強調表示されるので、拡大または縮小して簡単に見つけられるように &ndash; ます。

- **標準サイズ**&ndash; は、選択したデバイスの解像度をレイアウトがどのように確認できるように、ピクセル単位のレイアウトをレンダリングします。

- [**ウィンドウに合わせる]** &ndash; レイアウト全体がデザインサーフェイスに表示されるようにズームレベルを設定します。

- **拡大**&ndash; をクリックするたびにズームインし、レイアウトを拡大します。

- @No__t_1**縮小**すると、各クリックで徐々にズームアウトし、デザインサーフェイス上でレイアウトを小さく表示できます。

選択したズーム設定は、実行時にアプリケーションのユーザーインターフェイスに影響しないことに注意してください。

## <a name="switching-between-design-and-source-panes"></a>デザインペインとソースペインの切り替え

**デザイン**ペインと**ソース**ペインの間には、**デザイン**ペインと**ソース**ペインの表示方法を変更するためのボタンがいくつかあります。

[ボタンの場所を表示 ![Pane には](designer-basics-images/vs/25-pane-buttons-sml.png)](designer-basics-images/vs/25-pane-buttons.png#lightbox)

これらのボタンは、次の操作を実行します。

- この最**上位のボタンの** **デザイン**&ndash;**デザインペインを選択します**。 このボタンをクリックすると、 **[ツールボックス]** ウィンドウと **[プロパティ]** ペインが有効になり、[**テキストエディター] ツールバー**は表示されません。 **[折りたたみ]** ボタンがクリックされると (下記参照)、**デザイン**ペインは**ソース**ペインなしでのみ表示されます。

- このボタンを**スワップ**する (2**つの左右**の矢印のように) &ndash; このボタンをクリックすると、**デザイン**ペインと**ソース**ペインが入れ替えられ、**デザイン**ペインが右側に表示されます。 もう一度クリックすると、これらのペインが元の場所に戻ります。

- **Source** &ndash; このボタン (2 つの逆山かっこに似ています) は、**ソース**ペインを選択します。 このボタンをクリックすると、 **[ツールボックス]** ウィンドウと **[プロパティ]** ペインが無効になり、Visual Studio の上部に [**テキストエディター] ツールバー**が表示されます。 **[折りたたみ]** ボタンがクリックされたとき (下記参照)、 **[ソース]** ボタンをクリックすると、**デザイン**ペインではなく**ソース**ペインが表示されます。

- **[垂直方向の分割]** このボタン (縦棒に似ています) &ndash;、**デザイン**ペインと**ソース**ペインが横に並べて表示されます。 これが既定の配置です。

- **横方向の分割**(水平バーに似ています) &ndash; このボタンをクリックすると、**デザイン**ペインが**ソース**ペインの上に表示されます。 **[スワップ]** ペインをクリックして、**デザイン**ペインの上に**ソース**ペインを配置できます。

- **[ウィンドウの折りたたみ]** &ndash; このボタン (二重山かっこの2つの角かっこ) に似ています。**デザイン**と**ソース**の2つのウィンドウの表示は、これらのペインの1つのビューに表示されます。
    このボタンは、(2 つの左向きの山かっこのように) **[展開]** ボタンになります。これをクリックすると、ビューをダブルペイン (**デザイン**および**ソース**) 表示モードに戻すことができます。

[**折りたたみペイン]** をクリックすると、**デザイン**ペインだけが表示されます。 ただし、 **[ソース]** ボタンをクリックして、代わりに**ソース**ペインだけを表示することもできます。 **デザインペインに**戻るには、 **[デザイン]** ボタンをもう一度クリックします。

## <a name="source-pane"></a>ソースペイン

**[ソース]** ウィンドウには、**デザインサーフェイス**に表示されるデザインの基になる XML ソースが表示されます。 両方のビューが同時に使用可能であるため、デザインのビジュアル表現と、デザインの基になる XML ソースの間を行き来して、UI デザインを作成することができます。

[ソースペインでの XML ソースの ![Example](designer-basics-images/vs/22-source-pane-w158-sml.png)](designer-basics-images/vs/22-source-pane-w158.png#lightbox)

XML ソースに対して行われた変更は、直ちに**デザインサーフェイス**に表示されます。**デザインサーフェイス**に対して行われた変更によって、**ソース**ペインに表示される XML ソースがそれに応じて更新されます。 **ソース**ペインで xml を変更すると、次に説明するように、オートコンプリート機能と IntelliSense 機能を使用して xml ベースの UI 開発を高速化できます。

長い XML ファイルを操作する際のナビゲーションを容易にするために、**ソース**ウィンドウでは Visual Studio scrollbar がサポートされています (前のスクリーンショットの右側に表示されています)。 スクロールバーの詳細については、「 [scrollbar をカスタマイズしてコードを追跡する方法](https://msdn.microsoft.com/library/dn237345.aspx)」を参照してください。

### <a name="autocompletion"></a>オート

ウィジェットの属性の名前の入力を開始するときに、CTRL キーを押し<kbd>ながら SPACE</kbd>キーを押すと、候補の候補の一覧が表示されます。 たとえば、次の例で `android:lay` を入力した後 ( <kbd>CTRL + SPACE キー</kbd>を押すと)、次の一覧が表示されます。

[レイアウト属性の ![Autocompletion](designer-basics-images/vs/23-autocompletion-w158-sml.png)](designer-basics-images/vs/23-autocompletion-w158.png#lightbox)

<kbd>Enter</kbd>キーを押して最初に表示された完了を受け入れるか、方向キーを使用して目的の入力候補までスクロールし、 <kbd>enter</kbd>キーを押します。 または、マウスを使用してスクロールし、目的の完了をクリックします。

### <a name="intellisense"></a>IntelliSense

ウィジェットの新しい属性を入力し、値の割り当てを開始すると、トリガー文字が入力された後に IntelliSense がポップアップ表示され、その属性に使用する有効な値の一覧が提供されます。 たとえば、次の例の `android:layout_width` に対して最初の二重引用符を入力した後、オートコンプリートセレクターがポップアップ表示され、この幅の有効な選択肢の一覧が示されます。

[レイアウト幅の ![IntelliSense 例](designer-basics-images/vs/24-intellisense-w158-sml.png)](designer-basics-images/vs/24-intellisense-w158.png#lightbox)

このポップアップの下部には、2つのボタンがあります (上のスクリーンショットでは赤で説明しています)。 左側の **[プロジェクトリソース]** ボタンをクリックすると、アプリプロジェクトの一部であるリソースだけが一覧に表示されます。右側の **[framework リソース]** ボタンをクリックすると、一覧がフレームワークから使用可能なリソースを表示するよう制限されます。
これらのボタンをオンまたはオフにする: これらのボタンをクリックすると、それぞれが提供するフィルター処理を無効にすることができます。

## <a name="properties-pane"></a>プロパティペイン

デザイナーでは、**プロパティ**ペインを使用したウィジェットプロパティの編集がサポートされています。 

![プロパティウィンドウのスクリーンショット](designer-basics-images/vs/08-property-pad.png)

**[プロパティ]** ペインに表示されるプロパティは、**デザインサーフェイス**で選択されているウィジェットに応じて変わります。

### <a name="default-values"></a>既定の値

ほとんどのウィジェットのプロパティは、選択した Android テーマから値が継承されるので、 **[プロパティ]** ウィンドウでは空白になります。
**[プロパティ]** ウィンドウには、選択したウィジェットに明示的に設定されている値のみが表示されます。テーマから継承された値は表示されません。

### <a name="referencing-resources"></a>参照 (リソースを)

一部のプロパティは、layout **. axml**ファイル以外のファイルで定義されているリソースを参照できます。 この種類の最も一般的なケースは、リソースの `string` と `drawable` です。 ただし、`Boolean` の値やディメンションなど、他のリソースにも参照を使用できます。 プロパティがリソース参照をサポートしている場合は、プロパティのテキストエントリの横に参照アイコン (正方形) が表示されます。 このボタンをクリックすると、リソースセレクターが開きます。

たとえば、次のスクリーンショットは、 **[プロパティ]** ウィンドウで `Text` ウィジェットのテキストフィールドの右側にある暗い四角形をクリックしたときに使用できるオプションを示しています。

[![Example テキストオプションの一覧](designer-basics-images/vs/09-text-options-sml.png)](designer-basics-images/vs/09-text-options.png#lightbox)

**[リソース...]** をクリックすると、 **[リソースの選択**] ダイアログボックスが表示されます。

[複数のリソースが一覧表示された ![Example リソースのスクリーンショット](designer-basics-images/vs/09b-resources-w158-sml.png)](designer-basics-images/vs/09b-resources-w158.png#lightbox)

この一覧から、 **[プロパティ]** ウィンドウでテキストをハードコーディングするのではなく、そのウィジェットに使用するテキストリソースを選択できます。 次の例は、`ImageView` の `Src` プロパティのリソースセレクターを示しています。

[ImageView の ![Resource selector リストアイコンリソース](designer-basics-images/vs/10-src-resource-sml.png)](designer-basics-images/vs/10-src-resource.png#lightbox)

@No__t_0 プロパティの右側にある空白の四角形をクリックすると、 **[リソースの選択**] ダイアログボックスが開き、(上記のように) 色からのリソースの一覧が表示されます。

### <a name="boolean-property-references"></a>ブール型プロパティの参照

通常、*ブール型*プロパティは、プロパティウィンドウのプロパティの横にあるチェックマークとして選択されます。 このチェックボックスをオンまたはオフにして `true` または `false` の値を指定できます。または、プロパティの右側にあるダーク塗りつぶされた四角形をクリックしてプロパティ参照を選択することもできます。 次の例では、選択した `TextView` に関連付けられている "**すべて大文字**" のブール型プロパティ参照をクリックすることで、テキストをすべて大文字に変更します。

![ブール型プロパティの設定の例](designer-basics-images/vs/11-boolean.png)

## <a name="editing-properties-inline"></a>インラインでのプロパティの編集

Android Designer は、**デザインサーフェイス**の特定のプロパティを直接編集することをサポートしています (したがって、プロパティリストでこれらのプロパティを検索する必要はありません)。 直接編集できるプロパティには、テキスト、余白、およびサイズがあります。

### <a name="text"></a>テキスト

一部のウィジェット (`Button` や `TextView` など) のテキストプロパティは、**デザインサーフェイス**で直接編集できます。 ウィジェットをダブルクリックすると、次のように編集モードになります。

![Hello 文字列のテキストリソース](designer-basics-images/vs/12-text-resource.png "テキストリソース")

新しいテキスト値を入力するか、新しいリソース文字列を入力することができます。 次の例では、`@string/hello` リソースがテキストで置き換えられ、`CLICK THIS BUTTON` ます。

![Shift + Enter キーを押して、テキストを新しいリソースに自動的にリンクします](designer-basics-images/vs/13-shift-enter-resource.png)

この変更は、ウィジェットの `text` プロパティに格納されます。`@string/hello` リソースに割り当てられた値は変更されません。
新しいテキスト文字列でキーを押すと、 <kbd>Shift</kbd>キーを押し  +
<kbd>enter</kbd>キーを押すと、入力したテキストを新しいリソースに自動的にリンクできます。

### <a name="margin"></a>余白

ウィジェットを選択すると、ウィジェットのサイズや余白を対話的に変更できるハンドルがデザイナーに表示されます。 選択中にウィジェットをクリックすると、余白編集モードとサイズ編集モードが切り替わります。

ウィジェットを初めてクリックすると、余白ハンドルが表示されます。 マウスをハンドルのいずれかに移動すると、次に示すように、ハンドルが変更されるプロパティがデザイナーに表示されます (`layout_marginLeft` プロパティについては次のようになります)。

![デザイナーの余白ハンドルを示すスクリーンショット](designer-basics-images/vs/15-margin-handles.png)

余白が既に設定されている場合は、余白が占める領域を示す点線が表示されます。

![ボタンの周りのスペースをマークする点線の例](designer-basics-images/vs/16-margins-set.png)

### <a name="size"></a>サイズ

前述のように、既に選択されているときにウィジェットをクリックすると、サイズ編集モードに切り替えることができます。 三角形ハンドルをクリックして、指定したディメンションのサイズを `wrap_content` に設定します。

![コンテンツとサイズ変更ハンドルをラップする](designer-basics-images/vs/17-wrap-content.png)

**Wrap コンテンツ**ハンドルをクリックすると、そのディメンション内のウィジェットが縮小され、囲まれたコンテンツをラップするために必要な大きさになります。 この例では、ボタンのテキストは、次のスクリーンショットに示すように水平方向に縮小されます。

サイズ値が **[折り返しコンテンツ]** に設定されている場合、デザイナーは、サイズを `match_parent` に変更するための逆方向を指す三角形ハンドルを表示します。

![親ハンドルの一致](designer-basics-images/vs/18-match-parent.png)

[**一致する親**ハンドル] をクリックすると、親ウィジェットと同じサイズになるように、そのディメンションのサイズが復元されます。

また、前のスクリーンショットに示されているように、円形のサイズ変更ハンドルをドラッグして、任意の `dp` 値にウィジェットのサイズを変更することもできます。 この場合、**ラップコンテンツ**と**一致する親**ハンドルの両方がそのディメンションに対して表示されます。

![円形のサイズ変更ハンドル](designer-basics-images/vs/19-resize-dp.png)

すべてのコンテナーでウィジェットの `Size` を編集することはできません。 たとえば、次のスクリーンショットでは `LinearLayout` が選択されていますが、サイズ変更ハンドルが表示されていないことに注意してください。

![サイズ変更ハンドルなし](designer-basics-images/vs/20-no-resize-handles.png)

## <a name="document-outline"></a>[ドキュメント アウトライン]

**ドキュメントアウトライン**には、レイアウトのウィジェット階層が表示されます。
次の例では、含んでいる `LinearLayout` ウィジェットが選択されています。

![ドキュメントアウトラインの例](designer-basics-images/vs/21-document-outline.png)

選択したウィジェットのアウトライン (この例では `LinearLayout`) も**デザインサーフェイス**で強調表示されています。 ドキュメントアウトライン内の選択したウィジェットは、**デザインサーフェイス**に対応するものと同期したままになります。 これは、[グループの表示] を選択する場合に便利です。**デザインサーフェイス**では、常に選択するのは簡単ではありません。

**ドキュメントアウトライン**では、コピーと貼り付けがサポートされています。また、ドラッグアンドドロップを使用することもできます。 ドラッグアンドドロップは、**ドキュメント**アウトラインから**デザインサーフェイス**、および**デザインサーフェイス**から**ドキュメントアウトライン**までサポートされています。 また、 **[ドキュメントアウトライン]** の項目を右クリックすると、その項目のコンテキストメニューが表示されます (**デザインサーフェイス**で同じウィジェットを右クリックしたときに表示されるものと同じコンテキストメニューが表示されます)。

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio for Mac](#tab/macos)

## <a name="launching-the-designer"></a>デザイナーの起動

デザイナーは、レイアウトが作成されると自動的に起動されます。または、既存の axml ファイルをダブルクリックして起動することもできます。 たとえば、 **Resources > Layout**フォルダーの**Main**をダブルクリックすると、次のようにデザイナーが読み込まれます。

[Visual Studio for Mac の ![Designer 画面](designer-basics-images/xs/01-open-designer-sml.png)](designer-basics-images/xs/01-open-designer.png#lightbox)

同様に、 **Solution Pad**の **レイアウト** フォルダーを右クリックし、> 新しいファイルを追加 を選択して  **Android > レイアウト >** 新しいレイアウトを追加することもできます。

[[新しいファイルの ![Add] ダイアログ](designer-basics-images/xs/02-add-new-layout-sml.png)](designer-basics-images/xs/02-add-new-layout.png#lightbox)

これにより、新しい axml ファイルが作成され、デザインサーフェイスに読み込まれます。

> [!TIP]
> 新しいリリースの Visual Studio では、Android Designer 内で .xml ファイルを開くことができます。
>
> Android Designer では、.axml ファイルと .xml ファイルの両方がサポートされています。

## <a name="designer-features"></a>デザイナーの機能

デザイナーは、次のスクリーンショットに示すように、さまざまな機能をサポートするいくつかのセクションで構成されています。

[デザイナーペインの ![Diagram](designer-basics-images/xs/03-designer-features-sml.png)](designer-basics-images/xs/03-designer-features.png#lightbox)

デザイナーでレイアウトを編集するときは、次の機能を使用して設計を作成し、整形します。

- **デザインサーフェイス**&ndash; を使用すると、レイアウトがデバイスにどのように表示されるかを編集可能な形式で表示できるため、ユーザーインターフェイスのビジュアル構築が容易になります。

- **ツールバー** &ndash; には、**デバイス**、**バージョン**、**テーマ**、レイアウト構成、および操作バー設定のセレクターの一覧が表示されます。 ツールバーには、テーマエディターを起動し、マテリアルデザイングリッドを有効にするためのアイコンも含まれています。

- **ツールボックス**&ndash; には、デザインサーフェイスにドラッグアンドドロップできるウィジェットとレイアウトの一覧が表示されます。

- [**プロパティパッド**&ndash;] 選択したウィジェットのプロパティを表示および編集します。

- **ドキュメントアウトライン**&ndash; レイアウトを構成するウィジェットのツリーを表示します。 ツリー内の項目をクリックすると、その項目をデザイナーで選択できます。 また、ツリー内の項目をクリックすると、その項目のプロパティがプロパティパッドに読み込まれます。

## <a name="toolbar"></a>ToolBar

ツールバー (デザインサーフェイスの上に配置) には、構成セレクターとツールメニューが表示されます。

[デザイナーツールバーの ![Diagram](designer-basics-images/xs/04-toolbar-sml.png)](designer-basics-images/xs/04-toolbar.png#lightbox)

ツールバーは、次の機能へのアクセスを提供します。

- 別のレイアウト**セレクター** &ndash; を使用すると、さまざまなレイアウトバージョンから選択できます。

- **デバイスセレクター** &ndash; は、画面のサイズ、解像度、キーボードの可用性など、特定のデバイスに関連付けられている修飾子のセットを定義します。 新しいデバイスを追加したり削除したりすることもできます。

- **Android バージョンセレクター**は、レイアウトが対象としている android バージョン &ndash; ます。 デザイナーでは、選択した Android バージョンに応じてレイアウトがレンダリングされます。

- **テーマセレクター** &ndash; レイアウトの UI テーマを選択します。

- **構成セレクター** &ndash; によって、デバイス構成 (*縦*や*横*など) が選択されます。

- **[リソース修飾子のオプション]** &ndash;*言語*、 *UI モード*、*夜間モード*、および*ラウンド画面*のオプションを選択するためのドロップダウンメニューを表示するダイアログボックスが表示されます。

- **操作バー設定**&ndash; レイアウトの操作バー設定を構成します。

- [**テーマエディター** &ndash;] を選択すると、*テーマエディター*が開きます。これにより、選択したテーマの要素をカスタマイズできます。

- **素材のデザイングリッド** *素材デザイングリッド*を有効または無効にします。 &ndash; [マテリアルデザイン] グリッドの横にあるドロップダウンメニュー項目では、グリッドをカスタマイズできるダイアログが表示されます。

これらの各機能については、次のトピックで詳しく説明します。

[リソース修飾子と視覚化オプション](~/android/user-interface/android-designer/resource-qualifiers.md)**デバイスセレクター**、 **Android バージョンセレクター**、**テーマセレクター**、**構成セレクター**、リソースの要件に関する詳細情報を提供します。 **オプション**、および**操作バー設定**。

代替レイアウト[ビュー](~/android/user-interface/android-designer/alternative-layout-views.md)では、**代替レイアウトセレクター**の使用方法について説明します。

[素材デザインの特徴](~/android/user-interface/android-designer/material-design-features.md)では、**テーマエディター**と**マテリアルデザイングリッド**の包括的な概要が示されます。

## <a name="design-surface"></a>デザイン サーフェイス

デザイナーを使用すると、ツールボックスからデザインサーフェイスにウィジェットをドラッグアンドドロップすることができます。 デザイナーでウィジェットを操作する (新しいウィジェットを追加するか、既存のウィジェットを再配置することによって) と、使用可能な挿入ポイントをマークするための垂直線と水平線が表示されます。 次の例では、新しい `Button` ウィジェットをデザインサーフェイスにドラッグしています。

[デザインサーフェイスに挿入行を ![Example](designer-basics-images/xs/05-insertion-points-sml.png)](designer-basics-images/xs/05-insertion-points.png#lightbox)

さらに、ウィジェットをコピーすることもできます。コピーと貼り付けを使用してウィジェットをコピーすることも、 <kbd>Ctrl</kbd>キーを押しながら既存のウィジェットをドラッグアンドドロップすることもできます。

### <a name="context-menu-commands"></a>ショートカットメニューのコマンド

コンテキストメニューは、デザインサーフェイスとドキュメントアウトラインの両方で使用できます。 このメニューには、選択したウィジェットとそのコンテナーで使用できるコマンドが表示されます。これにより、コンテナーに対する操作を簡単に実行できるようになります (デザインサーフェイスでは、常に選択するのは簡単ではありません)。 コンテキストメニューの例を次に示します。

[デザインサーフェイスを右クリックしたときのショートカットメニュー ![Example](designer-basics-images/xs/06-context-menu-sml.png)](designer-basics-images/xs/06-context-menu.png#lightbox)

この例では、`Button` を右クリックすると、いくつかのオプションを示すショートカットメニューが表示されます。

- [ **LinearLayout** &ndash;] `Button` の `LinearLayout` 親を編集するためのサブメニューが表示されます。

- 右クリックした `Button` に適用される &ndash; 操作を**切り取り**、**コピー**、および**削除**します。

### <a name="zoom-controls"></a>ズームコントロール

デザインサーフェイスでは、次のようにいくつかのコントロールを使用したズームがサポートされます。

[デザインサーフェイスズームコントロールの ![Diagram](designer-basics-images/xs/07-zoom-controls-sml.png)](designer-basics-images/xs/07-zoom-controls.png#lightbox)

これらのコントロールを使用すると、ユーザーインターフェイスの特定の領域をデザイナーで簡単に確認できます。

- [コンテナー] を**強調表示**すると、デザインサーフェイスのコンテナーが強調表示されるので、拡大または縮小して簡単に見つけられるように &ndash; ます。

- **標準サイズ**&ndash; は、選択したデバイスの解像度をレイアウトがどのように確認できるように、ピクセル単位のレイアウトをレンダリングします。

- [**ウィンドウに合わせる]** &ndash; レイアウト全体がデザインサーフェイスに表示されるようにズームレベルを設定します。

- **拡大**&ndash; をクリックするたびにズームインし、レイアウトを拡大します。

- @No__t_1**縮小**すると、各クリックで徐々にズームアウトし、デザインサーフェイス上でレイアウトを小さく表示できます。

選択したズーム設定は、実行時にアプリケーションのユーザーインターフェイスに影響しないことに注意してください。

## <a name="property-pad"></a>プロパティパッド

デザイナーでは、**プロパティパッド**を使用したウィジェットプロパティの編集がサポートされています。 プロパティパッドに表示されるプロパティは、デザイナー画面で選択されているウィジェットに応じて変わります。 前の例の `Button` を選択すると、その `Button` ウィジェットのプロパティが表示されます。

[プロパティパッドの ![Screenshot](designer-basics-images/xs/08-property-pad-sml.png)](designer-basics-images/xs/08-property-pad.png#lightbox)

## <a name="property-pad-sections"></a>プロパティパッドのセクション

プロパティパッドは、類似したプロパティをグループ化するいくつかのセクションに分割されています。これにより、目的のプロパティを見つけやすくなり &ndash; ます。

- **ウィ**ジェットは、`id`、`visibility`、`text` などのウィジェットの主要なプロパティ &ndash; ます。ウィジェットのコンテンツを管理するためのプロパティは、通常、ここに配置されます。

- @No__t_2、`text color`、`background` などのウィジェットの外観を変更する**スタイル**&ndash; プロパティ。

- **[レイアウト]** ウィジェットの位置とサイズを設定するプロパティを &ndash; ます。

- スクロールプロパティ &ndash;**スクロール**します。

- **動作**&ndash; ウィジェットの動作を設定するフラグ。

### <a name="default-values"></a>既定の値

ほとんどのウィジェットのプロパティは、その値が選択した Android テーマから継承されるため、**プロパティパッド**では空白になります。 **プロパティパッド**には、選択したウィジェットに明示的に設定されている値のみが表示されます。テーマから継承された値は表示されません。

### <a name="referencing-resources"></a>参照 (リソースを)

一部のプロパティは、layout **. axml**ファイル以外のファイルで定義されているリソースを参照できます。 この種類の最も一般的なケースは、リソースの `string` と `drawable` です。 ただし、`Boolean` の値やディメンションなど、他のリソースにも参照を使用できます。
プロパティがリソース参照をサポートしている場合は、プロパティのテキストエントリの横に参照アイコン (省略記号、&hellip;) が表示されます。
このボタンをクリックすると、リソースセレクターが開きます。

たとえば、次のスクリーンショットは、**プロパティパッド**で `Button` ウィジェットのテキストフィールドの右側にある省略記号をクリックしたときに使用できるリソースを示しています。

[2つのリソースが一覧表示された ![Example リソースのスクリーンショット](designer-basics-images/xs/09-resources-sml.png)](designer-basics-images/xs/09-resources.png#lightbox)

次の例は、`ImageView` の `Src` プロパティのリソースセレクターを示しています。

[ImageView の ![Resource selector リストアイコンリソース](designer-basics-images/xs/10-src-resource-sml.png)](designer-basics-images/xs/10-src-resource.png#lightbox)

### <a name="boolean-property-references"></a>ブール型プロパティの参照

*ブール型*のプロパティは、通常、プロパティパッドにチェックボックスとして表示されます。 @No__t_0 プロパティがリソース参照をサポートしている場合、プロパティの横に小さなチェックボックスが表示されます。 チェックボックスをオンにすると `true`、空のボックスは `false` を意味します。 また、`true` や `false` などの値を直接入力することもできます。 入力の上にマウスポインターを置くと、小さいテキストフィールドアイコンが表示されます。 値を手動で入力する場合は、それをクリックします。

[ブール型プロパティの設定の ![Example](designer-basics-images/xs/12-boolean-sml.png)](designer-basics-images/xs/12-boolean.png#lightbox)

## <a name="grouped-properties"></a>グループ化されたプロパティ

一部のウィジェットには、グループ化された複数値プロパティがあります (たとえば、`Padding` など)。 これらのプロパティ値は、1つの展開可能な行で**プロパティパッド**に一覧表示されます。 これらのプロパティの一部は、次に示す `Padding` プロパティなど、グループ化された行で直接編集できます。

[Padding プロパティの ![Example 設定](designer-basics-images/xs/13-padding-property-sml.png)](designer-basics-images/xs/13-padding-property.png#lightbox)

## <a name="editing-properties-inline"></a>インラインでのプロパティの編集

Android Designer は、デザインサーフェイスの特定のプロパティを直接編集することをサポートしています (したがって、プロパティリストでこれらのプロパティを検索する必要はありません)。 直接編集できるプロパティには、テキスト、余白、およびサイズがあります。

### <a name="text"></a>テキスト

一部のウィジェット (`Button` や `TextView` など) のテキストプロパティは、デザインサーフェイスで直接編集できます。 ウィジェットをダブルクリックすると、次のように編集モードになります。

[hello 文字列の ![Text リソース](designer-basics-images/xs/14-text-resource-sml.png)](designer-basics-images/xs/14-text-resource.png#lightbox)

新しいテキスト値を入力するか、新しいリソース文字列を入力することができます。 次の例では、`@string/hello` リソースがテキストで置き換えられ、`CLICK THIS BUTTON` ます。

[![Shift + Enter キーを押して、テキストを新しいリソースに自動的にリンクする](designer-basics-images/xs/15-shift-enter-resource-sml.png)](designer-basics-images/xs/15-shift-enter-resource.png#lightbox)

この変更は、ウィジェットの `text` プロパティに格納されます。`@string/hello` リソースに割り当てられた値は変更されません。
新しいテキスト文字列でキーを押すと、 <kbd>Shift</kbd>キーを押し  +
<kbd>enter</kbd>キーを押すと、入力したテキストを新しいリソースに自動的にリンクできます。

### <a name="margin"></a>余白

ウィジェットを選択すると、ウィジェットのサイズや余白を対話的に変更できるハンドルがデザイナーに表示されます。 選択中にウィジェットをクリックすると、余白編集モードとサイズ編集モードが切り替わります。

ウィジェットを初めてクリックすると、余白ハンドルが表示されます。 マウスをハンドルのいずれかに移動すると、次に示すように、ハンドルが変更されるプロパティがデザイナーに表示されます (`layout_marginLeft` プロパティについては次のようになります)。

[デザイナーでの余白ハンドルの表示 ![Screenshot](designer-basics-images/xs/16-margin-handles-sml.png)](designer-basics-images/xs/16-margin-handles.png#lightbox)

余白が既に設定されている場合は、余白が占める領域を示す点線が表示されます。

[ボタンの周囲のスペースをマークする点線の ![Example](designer-basics-images/xs/17-margins-set-sml.png)](designer-basics-images/xs/17-margins-set.png#lightbox)

### <a name="size"></a>サイズ

前述のように、既に選択されているときにウィジェットをクリックすると、サイズ編集モードに切り替えることができます。 三角形ハンドルをクリックして、指定したディメンションのサイズを `wrap_content` に設定します。

[![Wrap コンテンツとサイズ変更ハンドル](designer-basics-images/xs/18-wrap-content-sml.png)](designer-basics-images/xs/18-wrap-content.png#lightbox)

**Wrap コンテンツ**ハンドルをクリックすると、そのディメンション内のウィジェットが縮小され、が囲まれたコンテンツをラップするために必要以上になります。 この例では、ボタンのテキストは、次のスクリーンショットに示すように水平方向に縮小されます。

サイズ値が **[折り返しコンテンツ]** に設定されている場合、デザイナーは、サイズを `match_parent` に変更するための逆方向を指す三角形ハンドルを表示します。

[![Match 親ハンドル](designer-basics-images/xs/19-match-parent-sml.png)](designer-basics-images/xs/19-match-parent.png#lightbox)

[**一致する親**ハンドル] をクリックすると、親ウィジェットと同じサイズになるように、そのディメンションのサイズが復元されます。

また、前のスクリーンショットに示されているように、円形のサイズ変更ハンドルをドラッグして、任意の `dp` 値にウィジェットのサイズを変更することもできます。 この場合、**ラップコンテンツ**と**一致する親**ハンドルの両方がそのディメンションに対して表示されます。

[サイズ変更ハンドルの ![Circular](designer-basics-images/xs/20-resize-dp-sml.png)](designer-basics-images/xs/20-resize-dp.png#lightbox)

すべてのコンテナーでウィジェットの `Size` を編集することはできません。 たとえば、次のスクリーンショットでは `LinearLayout` が選択されていますが、サイズ変更ハンドルが表示されていないことに注意してください。

[サイズ変更ハンドルの ![No](designer-basics-images/xs/21-no-resize-handles-sml.png)](designer-basics-images/xs/20-no-resize-handles.png#lightbox)

## <a name="document-outline"></a>[ドキュメント アウトライン]

**ドキュメントアウトライン**には、レイアウトのウィジェット階層が表示されます。
次の例では、含んでいる `LinearLayout` ウィジェットが選択されています。

[![Document アウトライン](designer-basics-images/xs/22-outline-view-sml.png)](designer-basics-images/xs/22-outline-view.png#lightbox)

選択したウィジェットのアウトライン (この例では `LinearLayout`) もデザインサーフェイスで強調表示されています。 ドキュメントアウトライン内の選択したウィジェットは、デザインサーフェイスに対応するものと同期したままになります。 これは、[グループの表示] を選択する場合に便利です。デザインサーフェイスでは、常に選択するのは簡単ではありません。

ドキュメントアウトラインでは、コピーと貼り付けがサポートされています。また、ドラッグアンドドロップを使用することもできます。 ドラッグアンドドロップは、ドキュメントアウトラインからデザインサーフェイス、およびデザインサーフェイスからドキュメントアウトラインまでサポートされています。 また、[ドキュメントアウトライン] の項目を右クリックすると、その項目のコンテキストメニューが表示されます (デザインサーフェイスで同じウィジェットを右クリックしたときに表示されるものと同じコンテキストメニューが表示されます)。

-----
