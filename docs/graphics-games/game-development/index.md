---
title: Xamarin を使用したゲーム開発の概要
description: このドキュメントでは、Xamarin を使用したゲーム開発の概要について説明します。これには、ゲームの方法と、Xamarin と Xamarin Android で使用できるテクノロジのサンプリングの両方が記述されています。
ms.prod: xamarin
ms.assetid: 0E3CDCD2-FBE4-49F5-A70E-8A7B937BAF1D
author: conceptdev
ms.author: crdun
ms.date: 03/24/2017
ms.openlocfilehash: 5992e8df3080bb35fd123483e5ffb5e64f268b1a
ms.sourcegitcommit: db422e33438f1b5c55852e6942c3d1d75dc025c4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/24/2020
ms.locfileid: "76724760"
---
# <a name="introduction-to-game-development-with-xamarin"></a>Xamarin を使用したゲーム開発の概要

ゲームの開発は非常に魅力的です。特に、モバイルプラットフォームで作業を発行するのがいかに簡単かを指定できます。 この記事では、ゲーム開発に関連した概念とテクノロジについて説明します。これは、高品質な AAA ゲームを作成するのか、または楽しいものをプログラミングするのかに関係なく、ゲームの作成に役立ちます。

ここでは、次のトピックについて説明します。

- ゲームと**ゲーム以外のプログラミングの概念**–ここでは、ゲーム開発に固有のいくつかの概念について説明します。また、他の種類の開発と共有されていても、重要な理由からここで強調しておくことをお勧めします。
- **ゲーム開発チーム**-このセクションでは、ゲーム開発者チームのさまざまなロールについて説明します。
- **ゲームのアイデアを作成**する-このセクションは、新しいゲームのアイデアを作成するのに役立ちます。これは、新しいゲームを作成するための最初の手順です。
- **ゲーム開発テクノロジ**–ここでは、ゲーム開発者として生産性を向上させることができるクロスプラットフォームテクノロジをいくつか紹介します。

## <a name="game-vs-non-game-programming-concepts"></a>ゲームとゲーム以外のプログラミングの概念

ゲーム開発に移行するプログラマは、多くの場合、新しい概念と開発パターンに直面します。 ここでは、これらの概念の概要を示します。

### <a name="the-game-loop"></a>ゲームループ

一般的なゲームでは、ユーザー操作と自動ゲームロジックの両方に応じて、画面上で一定の動きや変化が発生する必要があります。 これは、一般的に*ゲームループ*と呼ばれるものによって実現されます。 ゲームループとは、非常に高い頻度で実行されるループステートメント (while ループなど) の一種です。たとえば、 *1 秒あたり*30 または60フレームです。

単純なゲームループの図を次に示します。

![](images/image1.png "This is a diagram of a simple game loop")

ここで取り上げるテクノロジは実際の while ループを抽象化していますが、この抽象化に関係なく、すべてのフレーム更新の概念が提示されます。

コードのパフォーマンスは、最も単純なゲームであっても優先されます。 たとえば、実行に10ミリ秒かかる関数がゲームのパフォーマンスに大きな影響を与える可能性があります。これは特に、フレームごとに複数回呼び出された場合に発生します。 ゲームが1秒あたり30フレームで実行されている場合、各フレームは33ミリ秒未満で実行する必要があります。 これに対し、このような関数は、ゲーム以外のアプリケーションのボタンクリックに応答して実行する場合にのみ、顕著になるとは限りません。

すべてのフレームに対して実行できる一般的なロジックの種類は次のとおりです。

- **入力の読み取り**–ゲームでは、タッチスクリーン、キーボード、マウス、またはゲームコントローラーなどの入力ハードウェアをチェックすることによって、ユーザーがゲームと対話したかどうかを確認する必要がある場合があります。
- **移動**–1つの場所から別の場所に移動するオブジェクトは、通常、滑らかな動きを与えるために、フレームごとに非常に小さな量を移動します。
- **競合**–多くのゲームでは、さまざまなオブジェクトが重複しているか、交差しているかを頻繁にテストする必要があります。 競合については、この記事の後のセクションで詳しく説明します。 移動と競合は、専用の物理シミュレーションシステムによって処理される場合があります。
- **ゲーム固有の条件を確認**する–ゲームの状態は、プレーヤーが十分なポイントを獲得したか、割り当てられた時間が経過したかなど、特定の条件によって制御される場合があります。
- **AI の動作**–プレーヤーによって制御されていないオブジェクトの動作を制御するために使用されるすべてのフレームロジック。たとえば、敵の patrolling や、レースの周りにある相手ドライバーの動きなどです。
- **レンダリング**–ほとんどのゲームでは、画面上のすべてのフレームに表示される内容が更新されます。 これは、ゲームの再生に影響を与える変更 (レベルを通過する文字など) に応答して、または視覚的なポーランド語 (雪やアニメーションのアイコンの移動など) を提供するために行うことができます。

上記のアクティビティの多くは、アプリケーション全体の状態を変更できることに注意してください。一方、ゲーム以外のアプリの多くは、発生しているイベントに応じて状態を変更する傾向があります。

### <a name="content-loading-and-unloading"></a>コンテンツの読み込みとアンロード

開発で使用しているテクノロジに応じて、手動でコンテンツの読み込みとアンロード (または破棄) が必要になる場合があります。 手動によるアセットの読み込みとアンロードは、次のようなさまざまな理由で必要になる場合があります。

- アセットの読み込みには、1つのフレームの長さに対して時間がかかることがあります。 一部のアセットは、読み込みに数秒かかることがあります。これにより、ゲームプレイ中に読み込まれるとエクスペリエンスが著しく中断されます。 読み込み時間が特に長い場合 (2 つ以上の場合など) は、アニメーション化された読み込み画面または進行状況バーを表示することができます。
- アセットは多くの RAM を消費するため、ゲームのターゲットプラットフォームによって提供されるものに適合するように読み込まれるものをアクティブに管理する必要があります。
- ゲームでは、RAM に適した数より多くのアセットを表示する必要がある場合があります。 "オープンワールド" のゲームには多くの場合、プレーヤーがシームレスに移動できる大規模な環境が含まれています。これは、読み込み画面がありません。 この場合は、でコンテンツをストリーミングし、メモリ使用量を管理するためのカスタムシステムを作成することが必要になる場合があります。

カスタムファイル形式では、読み込み時に処理が必要になり、カスタム読み込みコードが必要になる場合があります。

### <a name="math"></a>算術

多くのゲームでは、ゲーム以外のアプリケーションよりも高度な数学が必要です。 もちろん、数値演算のレベルはゲームの複雑さによって異なります。 一般的な3D ゲームでは、2D よりも多くの計算が必要です。 さいわいなことに単純なゲームで常に開始することができ、更に学びを深めることが可能です。 ゲーム開発は、数学を学習する優れた方法かもしれません。

オブジェクトを配置するために X 座標と Y 座標を使用しているデカルト平面に慣れている場合は、ゲーム開発を始めるのに十分な知識があることがわかります。 次の図は、正の Y が上向きのデカルト平面を示しています。

![](images/image2.png "This shows a Cartesian plane with positive Y pointing upward")

> [!IMPORTANT]
> 一部のエンジン/Api では、オブジェクトの Y 値を大きくすると座標系が使用され、他のシステムでは正の Y がある座標系が使用されます。 システム間を移動する場合は、この点に注意してください。
三角関数 (正弦やコサインなど) は、回転の任意の形式を実装する2D ゲームでよく使用されます。

3D ゲームの作成を計画している場合は、線形代数 (3D 空間での回転と移動) の概念と、一部の微積分 (加速度の実装用) について理解しておく必要があります。

### <a name="content-pipelines"></a>コンテンツパイプライン

*コンテンツパイプライン*とは、ファイルがゲームで使用されたときに最終的な形式にファイルを作成したときにその形式から取得するために必要なプロセスを指します。 終了形式は、使用されているコンテンツの種類と、コンテンツを表示するために使用されているテクノロジによって異なります。

コンテンツパイプラインによっては、非常に高速な場合があり、手動による操作は必要ありません。 たとえば、ほとんどのゲームエンジンと Api は、未処理の形式で .png ファイル形式を読み込むことができます。 一方、より複雑な形式 (3D モデルなど) は、読み込む前に別の形式に処理する必要があります。また、この処理には、資産のサイズと複雑さに応じて時間がかかることがあります。

## <a name="game-development-teams"></a>ゲーム開発チーム

ゲーム開発では、プロセスに関係する個人に対して新しいロールとタイトルが導入されています。 ほとんどのゲーム開発者は、ゲーム全体をリリースするために必要な幅広いスキルを満たすことができないため、多くの分野が存在します。 これは、開発領域の完全な一覧ではなく、一般的なものの一部ではないことに注意してください。

- **プログラマ**–この記事を読んでいるほとんどの方が、このカテゴリに分類されます。 ゲーム開発におけるプログラマの役割は、ゲーム以外のアプリケーションでのプログラマの役割に似ています。 責任には、ゲームのフローを制御するためのロジックの作成、特定のプロジェクトのコンテキストでの一般的なタスクのためのシステムの開発、コンテンツの追加と表示、もちろんバグの修正などが含まれます。
- 2d**アーティスト**–2d アーティストは、 *2d アセット*の作成を担当します。 これには、ゲームの GUI、パーティクル、環境、および文字のイメージファイルが含まれます。 開発中のゲームが3D である場合、2D アーティストは環境や文字に対して責任を負いません。 [http://opengameart.org/](http://opengameart.org/)でゲーム用の無料のアートを見つけることができます。
- 3d**アーティスト**–3d アーティストは 3d*アセット*の作成を担当します。 これには、環境、文字、および props (家具、プラント、およびその他の inanimate オブジェクト) の3D モデルが含まれます。 チームの規模に応じて、3D アーティストと3D アニメーターを区別するチームもあります。 ゲーム用のフリー3D アートは、 [http://opengameart.org/](http://opengameart.org/)で見つけることができます。
- ゲーム**デザイナー** –ゲームデザイナーは、ゲームの再生方法を定義します。 これには、ゲームの設定、ゲームの全体的な目標、およびプレーヤーがゲームを実行する方法などの高度な決定が含まれます。 ゲームデザイナーは、アクションへの入力のマッピング、移動またはレベルアップの係数の定義、レベルのレイアウトの設計など、非常に詳細な決定にも関与できます。 コンテキストによっては、*デザイナー*という用語がゲームデザイナーまたはビジュアルデザイナーを参照する場合があることに注意してください。
- **サウンドデザイナー** –サウンドデザイナーは、ゲームのオーディオ資産を担当します。 一部のチームでは、サウンド効果と作曲家の作成を担当する個人を区別することがありますが、小規模なチームでは、すべてのオーディオに対して1人の個人を担当することがあります。

## <a name="creating-a-game-idea"></a>ゲームのアイデアを作成する

ゲームのデザインは簡単に見えることがあります。唯一の要件が "何か楽しい" ということです。 残念ながら、開発を開始するアイデアを作成する時間があれば、多くの開発者がそれ自体を失うことがあります。

ゲーム設計の分野は簡単には説明されていません。また、アートやプログラミングと同様に改善する必要がありますが、このセクションはパスの開始に役立ちます。

新しい開発者は小規模に始める必要があります。 大規模な最新のビデオゲームを作り直すにすることは困難になる可能性がありますが、より小規模なゲームでは、より優れた学習環境にすることができます。また、処理速度が向上し、エクスペリエンスが向上します。

多くのゲームは、学習と商用ゲームの両方の目的で、既存のゲームの改善または変更として開始されます。 アイデアを生成する方法の1つは、インスピレーションの他のゲームを調べることです。 たとえば、自分の好きなゲームを考えて、ゲーム再生に関する特性を特定して楽しいものにすることができます。 これは、探索、ゲームのメカニズムの専門技能、またはストーリーの進行に関するものです。 新しいアイデアを検索するときは、必ず "レトロ" ゲームを検討してください。

新しいアイデアを生成するためのもう1つの方法は、パズルゲーム、戦略ゲーム、または platformers など、特定のジャンルを考慮することです。 開発者にとってよく知られているジャンルは、出発点として適している場合があります。

Remaking の既存のゲームも教育経験を持っていますが、これにより、完成した製品の商用の可能性が制限される可能性があります。 ゲームを作成するプロセス (正確な複製であっても) は、貴重な教育エクスペリエンスを提供します。

## <a name="game-development-technology"></a>ゲーム開発テクノロジ

Xamarin Android と Xamarin を使用する開発者は、さまざまなテクノロジを使用して、ゲーム開発に役立てることができます。 このセクションでは、最も一般的なクロスプラットフォームソリューションのいくつかについて説明します。

### <a name="monogame"></a>MonoGame

モノゲームは、Microsoft の XNA API のオープンソースのクロスプラットフォームバージョンです。 モノゲームを使用すると、iOS、Android、Mac OS X、Linux、Windows、Windows RT、PS4、PSVita、Xbox One、およびスイッチのゲームを作成できます。

モノゲームは、技術的にはゲームエンジンではなく、ゲーム開発 API です。 つまり、モノゲームを操作するには、ゲームオブジェクトを直接管理し、オブジェクトを手動で描画し、カメラや*シーングラフ*などの共通オブジェクト (ゲームオブジェクト間の親子階層) を実装する必要があります。

モノゲームでは標準のビジュアル開発環境が提供されないため、モノゲームでの作業にはプログラミング知識が必要です。

モノゲームを使用したゲームの例を以下に示します。

FEZ:

![](images/image7.png "FEZ")

要塞

![](images/image8.jpg "Bastion")

モノゲームの使用を開始するには、[モノゲームガイド](~/graphics-games/monogame/index.md)に進んでください。

### <a name="urhosharp"></a>UrhoSharp

UrhoSharp はクロスプラットフォームの高レベル3D および2D エンジンであり、ジオメトリ、素材、ライト、カメラを使用して、アプリケーション用のアニメーション化された3D および2D シーンを作成するために使用できます。

![](images/urhosharp.gif "UrhoSharp is a cross-platform high-level 3D and 2D engine that can be used to create animated 3D and 2D scenes")

開始するには、 [Urhosharp ガイド](~/graphics-games/urhosharp/index.md)をご覧ください。

### <a name="additional-technology"></a>その他のテクノロジ

上で強調されているテクノロジは、使用可能なテクノロジのサンプルだけです。 その他の注目すべきテクノロジは次のとおりです。

- **スプライトキット**– Xamarin では、ネイティブ API のすべての機能にアクセスできる、Apple のスプライトキットゲームフレームワークがサポートされています。 スプライトキットは Apple によって作成されたテクノロジであるため、他の iOS エコシステムと緊密に統合されています。 もちろん、Sprite Kit はクロスプラットフォームではないため、Android では使用できません。 スプライトキットの使用方法の詳細については、次の投稿を参照してください: [https://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/](https://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/)
- **シーンキット**– Xamarin では、Apple のシーンキットフレームワークもサポートしています。これにより、iOS アプリへの3d グラフィックスの実装が簡単になります。 シーンキットは、Apple によって提供されるテクノロジでもあるため、上記のスプライトキットについて説明した統合とプラットフォーム固有の考慮事項の両方を備えています。 シーンキットの詳細については、次の投稿を参照してください: [https://blog.xamarin.com/3d-in-ios-8-with-scene-kit/](https://blog.xamarin.com/3d-in-ios-8-with-scene-kit/)
- **OpenTK –** OpenTK (Open Tool Kit を含む) は、iOS、Apple、および Mac ハードウェアに低レベルの OpenGL アクセスを提供します。 OpenTK の詳細については、次のメインページを参照してください: [https://opentk.net/](https://opentk.net/)

## <a name="related-links"></a>関連リンク

- [モノゲームガイド](~/graphics-games/monogame/index.md)
- [UrhoSharp ガイド](~/graphics-games/urhosharp/index.md)
